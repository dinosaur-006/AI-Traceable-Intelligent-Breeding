<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 滋补养生 - 您的专业健康管家</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Snow Container -->
    <div id="snowContainer" class="snow-container"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-leaf"></i> 溯源智养
            </div>
            <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link active">首页</a>
                <a href="assessment.html" class="nav-link">体质测评</a>
                <a href="plan.html" class="nav-link">滋补计划</a>
                <a href="advisor.html" class="nav-link">AI顾问</a>
                <a href="poster.html" class="nav-link">养生海报</a>
                <a href="recipes.html" class="nav-link">食谱生成</a>
                <a href="account.html" class="nav-link">个人中心</a>
            </div>
        </div>
    </nav>

    <!-- Mobile Drawer -->
    <div class="mobile-overlay" onclick="toggleMobileMenu()"></div>
    <div class="mobile-drawer">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
            <div class="logo" style="font-size: 1.2rem;"><i class="fas fa-leaf"></i> 溯源智养</div>
            <div onclick="toggleMobileMenu()" style="font-size: 1.5rem; color: #666;"><i class="fas fa-times"></i></div>
        </div>
        <a href="index.html" class="nav-link active">首页</a>
        <a href="assessment.html" class="nav-link">体质测评</a>
        <a href="plan.html" class="nav-link">滋补计划</a>
        <a href="advisor.html" class="nav-link">AI顾问</a>
        <a href="poster.html" class="nav-link">节气海报</a>
        <a href="recipes.html" class="nav-link">食谱生成</a>
        <a href="account.html" class="nav-link">个人中心</a>
    </div>

    <!-- Main Container -->
    <!-- Removed class="container" to allow Hero to be full width -->
    <main class="animate-in">
        
        <!-- Hero Section -->
        <header class="hero-section">
            <div class="hero-visual">
                <h1 class="hero-title">AI 溯源智养</h1>
                <p class="hero-subtitle">
                    基于体质 × 季节 × 个性数据的全链路智能养生系统<br>
                    融合传统中医智慧与现代 AI 科技，为您定制专属健康方案。
                </p>
                <button class="btn-hero-cta" onclick="window.location.href='assessment.html'">
                    开始体质测评 <i class="fas fa-arrow-right"></i>
                </button>
            </div>
            
            <div class="hero-illustration">
                <!-- Decorative Circles -->
                <div class="hero-deco-circle hero-deco-1"></div>
                <div class="hero-deco-circle hero-deco-2"></div>
                
                <!-- Main Illustration (SVG) -->
                <svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" style="position: relative; z-index: 2;">
                    <!-- Abstract Herbal Element (Leaf/Ginseng shape) -->
                    <path d="M200,50 C250,50 300,100 300,200 C300,300 200,350 200,350 C200,350 100,300 100,200 C100,100 150,50 200,50 Z" 
                          fill="none" stroke="rgba(107, 144, 128, 0.2)" stroke-width="2" />
                    <path d="M200,50 L200,350" stroke="rgba(107, 144, 128, 0.2)" stroke-width="2" />
                    <path d="M200,100 L250,150 M200,150 L250,200 M200,200 L250,250 M200,250 L250,300" stroke="rgba(107, 144, 128, 0.15)" stroke-width="1.5" fill="none" />
                    <path d="M200,100 L150,150 M200,150 L150,200 M200,200 L150,250 M200,250 L150,300" stroke="rgba(107, 144, 128, 0.15)" stroke-width="1.5" fill="none" />
                    
                    <!-- Floating Elements -->
                    <circle cx="150" cy="100" r="10" fill="rgba(212, 163, 115, 0.4)" />
                    <circle cx="280" cy="250" r="15" fill="rgba(107, 144, 128, 0.3)" />
                    <rect x="250" y="80" width="20" height="20" rx="4" stroke="rgba(107, 144, 128, 0.5)" fill="none" transform="rotate(45 260 90)" />
                </svg>
            </div>
        </header>

        <!-- Feature Grid (4x2 Compact) -->
        <section class="animate-in delay-2" style="position: relative; z-index: 20;">
            <div class="core-grid">
                <!-- 1. Assessment -->
                <div class="feature-card" onclick="window.location.href='assessment.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-dna"></i></div>
                    <h3>体质测评</h3>
                    <p>AI 辨识中医体质<br>生成专属健康档案</p>
                </div>
                <!-- 2. Daily Advice -->
                <div class="feature-card" onclick="document.getElementById('dailyGuideSection').scrollIntoView({behavior: 'smooth'})" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-lightbulb"></i></div>
                    <h3>今日建议</h3>
                    <p>每日个性化指南<br>饮食作息实时提醒</p>
                </div>
                <!-- 3. Recipes -->
                <div class="feature-card" onclick="window.location.href='recipes.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-utensils"></i></div>
                    <h3>AI 食谱</h3>
                    <p>定制药膳食谱<br>吃出健康好气色</p>
                </div>
                <!-- 4. Poster -->
                <div class="feature-card" onclick="window.location.href='poster.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-image"></i></div>
                    <h3>节气海报</h3>
                    <p>一键生成日签<br>分享健康生活</p>
                </div>
                <!-- 5. Plan -->
                <div class="feature-card" onclick="window.location.href='plan.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-calendar-alt"></i></div>
                    <h3>滋补计划</h3>
                    <p>7天全周期调理<br>循序渐进改善</p>
                </div>
                <!-- 6. Advisor -->
                <div class="feature-card" onclick="window.location.href='advisor.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-robot"></i></div>
                    <h3>AI 顾问</h3>
                    <p>7x24小时在线<br>随时解答健康疑问</p>
                </div>
                <!-- 7. Health Report (New) -->
                <div class="feature-card" onclick="window.location.href='report.html'" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-file-medical-alt"></i></div>
                    <h3>深度报告</h3>
                    <p>多维数据分析<br>洞察身体变化趋势</p>
                </div>
                <!-- 8. Community (New/Placeholder) -->
                <div class="feature-card" onclick="alert('社区功能即将上线')" style="cursor: pointer;">
                    <div class="feature-icon"><i class="fas fa-users"></i></div>
                    <h3>养生社区</h3>
                    <p>找到同频伙伴<br>一起坚持打卡</p>
                </div>
            </div>
        </section>
        
        <div class="container">
            <!-- Platform Advantages -->
            <section class="base-card animate-in delay-3" style="padding: 60px 40px; margin-bottom: 80px; background: white; border: none; box-shadow: 0 10px 40px rgba(0,0,0,0.05);">
                <div style="text-align: center; margin-bottom: 50px;">
                    <h2 style="font-family: var(--font-serif); color: var(--text-main); margin: 0 0 10px 0; font-size: 2rem;">平台核心优势</h2>
                    <p style="color: var(--text-secondary);">科学 · 智能 · 安全</p>
                </div>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; text-align: center;">
                    <div style="padding: 20px;">
                        <div style="width: 80px; height: 80px; background: rgba(107, 144, 128, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px; color: var(--primary-color); font-size: 2rem;">
                            <i class="fas fa-book-medical"></i>
                        </div>
                        <h4 style="margin: 0 0 15px 0; font-size: 1.2rem;">中医理论 × AI 融合</h4>
                        <p style="font-size: 0.95rem; color: #666; margin: 0; line-height: 1.6;">基于传统中医体质辨识模型，结合现代 AI 大数据分析，确保建议科学有效。</p>
                    </div>
                    <div style="padding: 20px;">
                        <div style="width: 80px; height: 80px; background: rgba(107, 144, 128, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px; color: var(--primary-color); font-size: 2rem;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h4 style="margin: 0 0 15px 0; font-size: 1.2rem;">多维数据综合判断</h4>
                        <p style="font-size: 0.95rem; color: #666; margin: 0; line-height: 1.6;">综合体质数据、当地季节气候、个人生活习惯，提供千人千面的精准调理方案。</p>
                    </div>
                    <div style="padding: 20px;">
                        <div style="width: 80px; height: 80px; background: rgba(107, 144, 128, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px; color: var(--primary-color); font-size: 2rem;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4 style="margin: 0 0 15px 0; font-size: 1.2rem;">隐私安全保障</h4>
                        <p style="font-size: 0.95rem; color: #666; margin: 0; line-height: 1.6;">采用本地化数据存储策略，您的健康档案仅保存在您的设备上，安全无忧。</p>
                    </div>
                </div>
            </section>

            <!-- Daily Guide (Content Flow - 4 Cards) -->
        <section class="daily-section animate-in delay-4" id="dailyGuideSection">
            <h2 class="section-title">今日指南 <span style="font-size: 0.9rem; font-weight: normal; color: #999; margin-left: 10px;">Daily Health Guide</span></h2>
            <div class="content-flow">
                <!-- 1. Tip Card -->
                <div class="base-card content-card">
                    <div class="content-thumb" style="background: #fff3e0; color: #ff9800;">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="content-info">
                        <span class="content-tag">健康贴士</span>
                        <div class="content-text" id="dailyTipText">寒从脚下起，睡前泡脚胜吃补药。</div>
                    </div>
                </div>
                
                <!-- 2. Drink Card -->
                <div class="base-card content-card">
                    <div class="content-thumb" style="background: #e1bee7; color: #8e24aa;">
                        <i class="fas fa-mug-hot"></i>
                    </div>
                    <div class="content-info">
                        <span class="content-tag">今日茶饮</span>
                        <div class="content-text" id="dailyDrinkName">陈皮普洱</div>
                        <div style="font-size: 0.85rem; color: #999;">理气健脾，消食化痰</div>
                    </div>
                </div>

                <!-- 3. Ingredient Card -->
                <div class="base-card content-card">
                    <div class="content-thumb" style="background: #e8f5e9; color: #43a047;">
                        <i class="fas fa-carrot"></i>
                    </div>
                    <div class="content-info">
                        <span class="content-tag">适宜食材</span>
                        <div class="content-text" id="dailyIngName">羊肉、红薯</div>
                        <div style="font-size: 0.85rem; color: #999;">温补气血，抵御风寒</div>
                    </div>
                </div>

                <!-- 4. Exercise Card -->
                <div class="base-card content-card">
                    <div class="content-thumb" style="background: #e3f2fd; color: #1e88e5;">
                        <i class="fas fa-running"></i>
                    </div>
                    <div class="content-info">
                        <span class="content-tag">推荐运动</span>
                        <div class="content-text" id="dailyExName">八段锦</div>
                        <div style="font-size: 0.85rem; color: #999;">早晨练习，疏通经络</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Personalized Section -->
        <section id="personalizedSection" class="personalized-section animate-in delay-4" style="display: none;">
            <div class="personalized-header">
                <h2 style="margin: 0; font-family: var(--font-serif); display: flex; align-items: center; gap: 15px;">
                    基于您的体质 · 今日专属
                    <span class="tag-exclusive">专属推荐</span>
                </h2>
                <button class="feature-btn" style="border-color: white; color: white; margin: 0; background: rgba(255,255,255,0.2);" onclick="window.location.href='account.html'">查看完整方案 &rarr;</button>
            </div>
            <div class="personalized-grid">
                <div class="personal-item glass-card">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">推荐饮食</div>
                    <div style="font-weight: bold; font-size: 1.1rem; margin-bottom: 5px;">姜枣茶</div>
                    <div style="font-size: 0.85rem; opacity: 0.9;">温中散寒，补血益气</div>
                </div>
                <div class="personal-item glass-card">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">推荐习惯</div>
                    <div style="font-weight: bold; font-size: 1.1rem; margin-bottom: 5px;">晒背 20分钟</div>
                    <div style="font-size: 0.85rem; opacity: 0.9;">正午阳光最好，补充阳气</div>
                </div>
                <div class="personal-item glass-card">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">推荐运动</div>
                    <div style="font-weight: bold; font-size: 1.1rem; margin-bottom: 5px;">八段锦</div>
                    <div style="font-size: 0.85rem; opacity: 0.9;">调理气血，强身健体</div>
                </div>
            </div>
        </section>
        
        <!-- Fallback for Personalized (If not logged in/no data) -->
        <section id="promoSection" class="base-card animate-in delay-4" style="padding: 40px; text-align: center; margin-bottom: 60px; display: none;">
            <h2 style="font-family: var(--font-serif); color: var(--primary-color); margin-bottom: 10px;">千人千方，精准养生</h2>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">完成体质测评，解锁您的专属每日健康方案</p>
            <button class="btn-primary" onclick="window.location.href='assessment.html'">立即解锁专属方案</button>
        </section>

        </div> <!-- End of .container -->

    </main>

    <!-- Professional Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3><i class="fas fa-leaf"></i> 溯源智养</h3>
                    <p>结合传统中医智慧与现代 AI 技术，为您提供科学、个性化的健康生活指导。本项目致力于弘扬传统文化，倡导健康生活方式。</p>
                </div>
                <div class="footer-col">
                    <h4>功能导航</h4>
                    <a href="assessment.html">AI 体质测评</a>
                    <a href="advisor.html">智能健康顾问</a>
                    <a href="poster.html">节气海报生成</a>
                </div>
                <div class="footer-col">
                    <h4>关于我们</h4>
                    <a href="#">项目介绍</a>
                    <a href="#">AI 模型说明</a>
                    <a href="#">数据来源声明</a>
                    <a href="account.html">隐私政策</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023-2024 溯源智养 AI Health Project. All Rights Reserved.</p>
                <p style="font-size: 0.8rem; margin-top: 5px;">免责声明：本平台提供的建议仅供参考，不作为医疗诊断依据。如有身体不适，请及时就医。</p>
            </div>
        </div>
    </footer>

    <script>
    // Core Logic
    document.addEventListener('DOMContentLoaded', () => {
        initSnow();
        updateWeather();
        loadDailyData();
        checkPersonalization();
    });

    // 1. Snow Effect
    function initSnow() {
        const container = document.getElementById('snowContainer');
        if(!container) return;
        for (let i = 0; i < 30; i++) {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.style.width = Math.random() * 5 + 2 + 'px';
            snowflake.style.height = snowflake.style.width;
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 10 + 10 + 's';
            snowflake.style.animationDelay = Math.random() * 5 + 's';
            container.appendChild(snowflake);
        }
    }

    // 2. Mock Weather & Data
    function updateWeather() {
        // Simulate fetching weather
        const weathers = [
            { temp: "2°C", cond: "多云转晴" },
            { temp: "-1°C", cond: "小雪" },
            { temp: "5°C", cond: "晴朗" }
        ];
        const w = weathers[Math.floor(Math.random() * weathers.length)];
        document.getElementById('weatherTemp').textContent = w.temp;
        document.getElementById('weatherCond').textContent = w.cond;
    }

    function loadDailyData() {
        const ings = ["红薯", "羊肉", "白萝卜", "山药"];
        const tips = [
            "今日大雪，宜温补，忌生冷。", 
            "出门记得戴围巾，保护颈部受寒。", 
            "睡前泡脚20分钟，胜吃补药。",
            "冬日晒背，补充阳气正当时。"
        ];
        const drinks = ["姜枣茶", "陈皮普洱", "桂圆红枣茶"];

        // document.getElementById('dailyIngName').textContent = ings[Math.floor(Math.random() * ings.length)];
        document.getElementById('dailyTipText').textContent = tips[Math.floor(Math.random() * tips.length)];
        document.getElementById('dailyDrinkName').textContent = drinks[Math.floor(Math.random() * drinks.length)];
    }

    // 3. Personalization Check
    function checkPersonalization() {
        const personalizedSection = document.getElementById('personalizedSection');
        const promoSection = document.getElementById('promoSection');
        
        // Check if user has assessment data (mock logic)
        // In a real app, we check localStorage.getItem('ai_health_constitution')
        const hasData = localStorage.getItem('ai_health_constitution') || localStorage.getItem('ai_health_user');
        
        if (hasData) {
            personalizedSection.style.display = 'block';
            promoSection.style.display = 'none';
        } else {
            personalizedSection.style.display = 'none';
            promoSection.style.display = 'block';
        }
    }

    // 4. Actions
    function toggleMobileMenu() {
        document.querySelector('.mobile-drawer').classList.toggle('active');
        document.querySelector('.mobile-overlay').classList.toggle('active');
    }

    function generatePoster() {
        // Add simple loading effect to button content
        const btn = event.currentTarget;
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 生成中...';
        btn.style.opacity = '0.8';
        
        setTimeout(() => {
            window.location.href = 'poster.html?auto_generate=true';
        }, 1000);
    }
    </script>
</body>
</html>